(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,n,t){e.exports=t(42)},22:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(16),c=t.n(u),o=(t(22),t(6)),l=t(2),i=function(e){var n=e.handleSearch;return r.a.createElement("div",null,"filter shown with: ",r.a.createElement("input",{type:"text",onChange:n}))},m=function(e){var n=e.handleSubmit,t=e.handleName,a=e.handlePhone,u=e.newName,c=e.newPhone;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{type:"text",value:u,onChange:t})),r.a.createElement("div",null,"phone: ",r.a.createElement("input",{type:"number",value:c,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.searchList,t=e.handleDelete;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("p",null,e.name," ",e.number),r.a.createElement("button",{onClick:function(){return t(e)}},"delete"))})))},d=t(4),s=t.n(d),h=function(){return s.a.get("/api/persons").then((function(e){return e.data}))},p=function(e){return s.a.post("/api/persons",e).then((function(e){return e.data}))},b=function(e,n){return s.a.put("/api/"+"persons/".concat(e),n).then((function(e){return e.data}))},v=function(e){return s.a.delete("/api/"+"persons/".concat(e)).then((function(e){return e.data}))},E=(t(40),function(e){return null===e?null:r.a.createElement("div",{className:"info"},e.message)}),w=(t(41),function(e){var n=e.error;return null===n?null:r.a.createElement("div",{className:"error"},n)}),j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),d=Object(l.a)(c,2),s=d[0],j=d[1],O=Object(a.useState)(""),S=Object(l.a)(O,2),g=S[0],k=S[1],y=Object(a.useState)(t),N=Object(l.a)(y,2),C=N[0],D=N[1],P=Object(a.useState)(null),x=Object(l.a)(P,2),L=x[0],T=x[1],A=Object(a.useState)(null),I=Object(l.a)(A,2),J=I[0],B=I[1];Object(a.useEffect)((function(){h().then((function(e){u(e),D(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),L&&r.a.createElement(E,{message:L}),J&&r.a.createElement(w,{error:J}),r.a.createElement(i,{handleSearch:function(e){var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value)}));D(n)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(m,{handleSubmit:function(e){e.preventDefault();var n={name:s,number:g};if(t.find((function(e){return e.name===s}))){if(window.confirm("".concat(s," is already added to phonebook, replace the old number with new one"))){var a=t.filter((function(e){return e.name===s}));b(a[0].id,n).then((function(e){u(t.map((function(n){return n.id!==a[0].id?n:e}))),D(C.map((function(n){return n.id!==a[0].id?n:e}))),T("Added ".concat(e.name)),setTimeout((function(){T(null)}),5e3)}))}}else p(n).then((function(e){u([].concat(Object(o.a)(t),[e])),D([].concat(Object(o.a)(C),[e])),T("Added ".concat(e.name)),setTimeout((function(){T(null)}),5e3)}));j(""),k("")},handleName:function(e){j(e.target.value)},handlePhone:function(e){e.preventDefault(),k(e.target.value)},newName:s,newPhone:g}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(f,{searchList:C,handleDelete:function(e){window.confirm("Delete ".concat(e.name,"?"))&&v(e.id).then((function(n){var a=t.filter((function(n){return n.id!==e.id}));u(a),D(a)})).catch((function(n){B("Infomartion of ".concat(e.name," is already remove from the server")),setTimeout((function(){B(null)}),5e3)}))}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.db6c1eb1.chunk.js.map